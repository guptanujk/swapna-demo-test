{
  "version": 3,
  "sources": ["../../pinia-plugin-persistedstate-2/dist/index.js"],
  "sourcesContent": ["function A(s, e, f) {\n  return (s = (e.split ? e.split(\".\") : e).reduce(function(i, n) {\n    return i && i[n];\n  }, s)) === void 0 ? f : s;\n}\nfunction $(s, e, f, i) {\n  return (e = e.split ? e.split(\".\") : e.slice(0)).slice(0, -1).reduce(function(n, a) {\n    return /^(__proto__|constructor|prototype)$/.test(a) ? {} : n[a] = n[a] || {};\n  }, s)[e.pop()] = f, s;\n}\nfunction I(s, e) {\n  return s === void 0 || s === null ? e : s;\n}\nfunction c(s, e, f, i) {\n  return I(\n    I(f[e], i[e]),\n    s\n  );\n}\nfunction b(s) {\n  const e = s || {};\n  function f(i) {\n    const n = function() {\n      try {\n        return i.options.persistedState || {};\n      } catch {\n        return {};\n      }\n    }();\n    if (c(!0, \"persist\", n, e) === !1) return;\n    const a = c(i.store.$id, \"key\", n, {}), O = c(!1, \"overwrite\", n, e), p = c(\n      function() {\n        try {\n          return window.localStorage;\n        } catch {\n          return {\n            getItem: function() {\n            },\n            setItem: function() {\n            },\n            removeItem: function() {\n            }\n          };\n        }\n      }(),\n      \"storage\",\n      n,\n      e\n    ), w = c(\n      function() {\n        return !0;\n      },\n      \"filter\",\n      n,\n      e\n    ), h = c(\n      JSON.stringify,\n      \"serialize\",\n      n,\n      e\n    ), y = c(\n      JSON.parse,\n      \"deserialize\",\n      n,\n      e\n    ), _ = c(\n      function(t) {\n        return t;\n      },\n      \"migrate\",\n      n,\n      {}\n    ), E = c(\n      function(t, r) {\n        return r;\n      },\n      \"merge\",\n      n,\n      {}\n    ), N = c(\n      function(t) {\n        const r = \"@@\", o = t.setItem(r, \"1\"), u = function() {\n          t.removeItem(r);\n        };\n        o instanceof Promise ? o.then(u) : u();\n      },\n      \"assertStorage\",\n      n,\n      e\n    );\n    function v(t) {\n      (n.beforeHydrate || function() {\n      })(i.store.$state);\n      const r = E(i.store.$state, t);\n      O ? i.store.$patch((o) => {\n        Object.keys(o).forEach((u) => {\n          o[u] = r[u];\n        });\n      }) : i.store.$patch(r), l();\n    }\n    function P(t) {\n      if (t != null) {\n        const r = y(t), o = _(r);\n        o instanceof Promise ? o.then(v) : v(o);\n      } else\n        l();\n    }\n    let l;\n    const z = new Promise(function(t) {\n      l = t;\n    });\n    let d = 0;\n    i.store.$persistedState = {\n      isReady: function() {\n        return z;\n      },\n      pending: !1\n    };\n    try {\n      if (process.env.NODE_ENV !== \"production\") {\n        const t = N(p);\n        t instanceof Promise ? t.then(() => m()).catch((r) => console.warn(r)) : m();\n      } else\n        m();\n    } catch (t) {\n      process.env.NODE_ENV !== \"production\" && console.warn(t), l();\n    }\n    function m() {\n      const t = p.getItem(a);\n      t instanceof Promise ? t.then(P) : P(t);\n    }\n    i.store.$subscribe(function(t, r) {\n      if (w(t, r) === !1) return;\n      Array.isArray(n.includePaths) && (r = n.includePaths.reduce(function(g, S) {\n        return $(\n          g,\n          S,\n          A(r, S, void 0)\n        );\n      }, {})), Array.isArray(n.excludePaths) && (r = y(h(r)), n.excludePaths.forEach(function(g) {\n        return $(r, g, void 0);\n      }, {}));\n      const o = h(r), u = p.setItem(a, o);\n      u instanceof Promise && (++d, i.store.$persistedState.pending = d !== 0, u.catch(function() {\n      }).finally(function() {\n        --d, i.store.$persistedState.pending = d !== 0;\n      }));\n    });\n  }\n  return f;\n}\nexport {\n  b as createPersistedStatePlugin\n};\n"],
  "mappings": "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",
  "names": []
}
