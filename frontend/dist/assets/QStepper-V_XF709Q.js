import{A as I,X as ae,a2 as m,a3 as F,J as N,r as V,K as h,j as oe,k as ie,aQ as se,aK as le,Y as $,aO as x,aR as B,aS as ue,a0 as A,a5 as D,aT as O,$ as ce,aU as de,N as ve,w as pe,aV as fe,a4 as w,aW as H,as as me,at as L,aX as X,af as he,ag as ge,av as ye,ad as be,aY as Se}from"./index-BbDY3BAK.js";import{i as J}from"./moment-CUpEOa1l.js";const Ce=I({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:n,emit:v}){let p=!1,s,t,a=null,l=null,c,b;function d(){s?.(),s=null,p=!1,a!==null&&(clearTimeout(a),a=null),l!==null&&(clearTimeout(l),l=null),t?.removeEventListener("transitionend",c),c=null}function g(o,r,u){r!==void 0&&(o.style.height=`${r}px`),o.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,p=!0,s=u}function f(o,r){o.style.overflowY=null,o.style.height=null,o.style.transition=null,d(),r!==b&&v(r)}function _(o,r){let u=0;t=o,p===!0?(d(),u=o.offsetHeight===o.scrollHeight?0:void 0):(b="hide",o.style.overflowY="hidden"),g(o,u,r),a=setTimeout(()=>{a=null,o.style.height=`${o.scrollHeight}px`,c=S=>{l=null,(Object(S)!==S||S.target===o)&&f(o,"show")},o.addEventListener("transitionend",c),l=setTimeout(c,e.duration*1.1)},100)}function C(o,r){let u;t=o,p===!0?d():(b="show",o.style.overflowY="hidden",u=o.scrollHeight),g(o,u,r),a=setTimeout(()=>{a=null,o.style.height=0,c=S=>{l=null,(Object(S)!==S||S.target===o)&&f(o,"hide")},o.addEventListener("transitionend",c),l=setTimeout(c,e.duration*1.1)},100)}return ae(()=>{p===!0&&d()}),()=>m(F,{css:!1,appear:e.appear,onEnter:_,onLeave:C},n.default)}}),G=I({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:v}}=N(),p=V(null),s=h(()=>e.stepper.modelValue===e.step.name),t=h(()=>{const r=e.step.disable;return r===!0||r===""}),a=h(()=>{const r=e.step.error;return r===!0||r===""}),l=h(()=>{const r=e.step.done;return t.value===!1&&(r===!0||r==="")}),c=h(()=>{const r=e.step.headerNav,u=r===!0||r===""||r===void 0;return t.value===!1&&e.stepper.headerNav&&u}),b=h(()=>e.step.prefix&&(s.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),d=h(()=>{const r=e.step.icon||e.stepper.inactiveIcon;if(s.value===!0){const u=e.step.activeIcon||e.stepper.activeIcon;return u==="none"?r:u||v.iconSet.stepper.active}if(a.value===!0){const u=e.step.errorIcon||e.stepper.errorIcon;return u==="none"?r:u||v.iconSet.stepper.error}if(t.value===!1&&l.value===!0){const u=e.step.doneIcon||e.stepper.doneIcon;return u==="none"?r:u||v.iconSet.stepper.done}return r}),g=h(()=>{const r=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(s.value===!0){const u=e.step.activeColor||e.stepper.activeColor||e.step.color;return u!==void 0?u:r}return r!==void 0?r:t.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),f=h(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(g.value!==void 0?` text-${g.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(b.value===!0?"prefix":"icon"):"")+(s.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(c.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),_=h(()=>e.stepper.headerNav!==!0?!1:c.value);function C(){p.value?.focus(),s.value===!1&&e.goToPanel(e.step.name)}function o(r){r.keyCode===13&&s.value===!1&&e.goToPanel(e.step.name)}return()=>{const r={class:f.value};c.value===!0&&(r.onClick=C,r.onKeyup=o,Object.assign(r,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const u=[m("div",{class:"q-focus-helper",tabindex:-1,ref:p}),m("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[m("span",{class:"row flex-center"},[b.value===!0?e.step.prefix:m(oe,{name:d.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const S=[m("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&S.push(m("div",{class:"q-stepper__caption"},e.step.caption)),u.push(m("div",{class:"q-stepper__label q-stepper__line relative-position"},S))}return ie(m("div",r,u),[[se,_.value]])}}}),K={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},_e=Object.keys(K);K.all=!0;function U(e){const n={};for(const v of _e)e[v]===!0&&(n[v]=!0);return Object.keys(n).length===0?K:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const qe=["INPUT","TEXTAREA"];function Y(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&qe.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function Pe(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((v,p)=>{const s=parseFloat(v);s&&(n[p]=s)}),n}const xe=le({name:"touch-swipe",beforeMount(e,{value:n,arg:v,modifiers:p}){if(p.mouse!==!0&&x.has.touch!==!0)return;const s=p.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Pe(v),direction:U(p),noop:ue,mouseStart(a){Y(a,t)&&de(a)&&(A(t,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(Y(a,t)){const l=a.target;A(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,l){x.is.firefox===!0&&B(e,!0);const c=O(a);t.event={x:c.left,y:c.top,time:Date.now(),mouse:l===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){D(a);return}const l=Date.now()-t.event.time;if(l===0)return;const c=O(a),b=c.left-t.event.x,d=Math.abs(b),g=c.top-t.event.y,f=Math.abs(g);if(t.event.mouse!==!0){if(d<t.sensitivity[1]&&f<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(d<t.sensitivity[2]&&f<t.sensitivity[2])return;const _=d/l,C=f/l;t.direction.vertical===!0&&d<f&&d<100&&C>t.sensitivity[0]&&(t.event.dir=g<0?"up":"down"),t.direction.horizontal===!0&&d>f&&f<100&&_>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&d<f&&g<0&&d<100&&C>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&d<f&&g>0&&d<100&&C>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&d>f&&b<0&&f<100&&_>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&d>f&&b>0&&f<100&&_>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(D(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ce(),t.styleCleanup=o=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const r=()=>{document.body.classList.remove("no-pointer-events--children")};o===!0?setTimeout(r,50):r()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:l,distance:{x:d,y:f}})):t.end(a)},end(a){t.event!==void 0&&($(t,"temp"),x.is.firefox===!0&&B(e,!1),t.styleCleanup?.(!0),a!==void 0&&t.event.dir!==!1&&D(a),t.event=void 0)}};if(e.__qtouchswipe=t,p.mouse===!0){const a=p.mouseCapture===!0||p.mousecapture===!0?"Capture":"";A(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}x.has.touch===!0&&A(t,"main",[[e,"touchstart","touchStart",`passive${p.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const v=e.__qtouchswipe;v!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&v.end(),v.handler=n.value),v.direction=U(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&($(n,"main"),$(n,"temp"),x.is.firefox===!0&&B(e,!1),n.styleCleanup?.(),delete e.__qtouchswipe)}}),we={name:{required:!0},disable:Boolean},M={setup(e,{slots:n}){return()=>m("div",{class:"q-panel scroll",role:"tabpanel"},w(n.default))}},Te={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ke=["update:modelValue","beforeTransition","transition"];function Ae(){const{props:e,emit:n,proxy:v}=N(),{getCache:p}=J(),{registerTimeout:s}=ve();let t,a;const l=V(null),c={value:null};function b(i){const y=e.vertical===!0?"up":"left";P((v.$q.lang.rtl===!0?-1:1)*(i.direction===y?1:-1))}const d=h(()=>[[xe,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),g=h(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),f=h(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),_=h(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=h(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),o=h(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),r=h(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);pe(()=>e.modelValue,(i,y)=>{const q=T(i)===!0?E(i):-1;a!==!0&&z(q===-1?0:q<E(y)?-1:1),c.value!==q&&(c.value=q,n("beforeTransition",i,y),s(()=>{n("transition",i,y)},e.transitionDuration))});function u(){P(1)}function S(){P(-1)}function Q(i){n("update:modelValue",i)}function T(i){return i!=null&&i!==""}function E(i){return t.findIndex(y=>y.props.name===i&&y.props.disable!==""&&y.props.disable!==!0)}function ee(){return t.filter(i=>i.props.disable!==""&&i.props.disable!==!0)}function z(i){const y=i!==0&&e.animated===!0&&c.value!==-1?"q-transition--"+(i===-1?g.value:f.value):null;l.value!==y&&(l.value=y)}function P(i,y=c.value){let q=y+i;for(;q!==-1&&q<t.length;){const k=t[q];if(k!==void 0&&k.props.disable!==""&&k.props.disable!==!0){z(i),a=!0,n("update:modelValue",k.props.name),setTimeout(()=>{a=!1});return}q+=i}e.infinite===!0&&t.length!==0&&y!==-1&&y!==t.length&&P(i,i===-1?t.length:-1)}function R(){const i=E(e.modelValue);return c.value!==i&&(c.value=i),!0}function j(){const i=T(e.modelValue)===!0&&R()&&t[c.value];return e.keepAlive===!0?[m(H,o.value,[m(r.value===!0?p(C.value,()=>({...M,name:C.value})):M,{key:C.value,style:_.value},()=>i)])]:[m("div",{class:"q-panel scroll",style:_.value,key:C.value,role:"tabpanel"},[i])]}function te(){if(t.length!==0)return e.animated===!0?[m(F,{name:l.value},j)]:j()}function ne(i){return t=fe(w(i.default,[])).filter(y=>y.props!==null&&y.props.slot===void 0&&T(y.props.name)===!0),t.length}function re(){return t}return Object.assign(v,{next:u,previous:S,goTo:Q}),{panelIndex:c,panelDirectives:d,updatePanelsList:ne,updatePanelIndex:R,getPanelContent:te,getEnabledPanels:ee,getPanels:re,isValidPanelName:T,keepAliveProps:o,needsUniqueKeepAliveWrapper:r,goToPanelByOffset:P,goToPanel:Q,nextPanel:u,previousPanel:S}}function Z(e){return m("div",{class:"q-stepper__step-content"},[m("div",{class:"q-stepper__step-inner"},w(e.default))])}const W={setup(e,{slots:n}){return()=>Z(n)}},Be=I({name:"QStep",props:{...we,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:v}){const{proxy:{$q:p}}=N(),s=me(X,L);if(s===L)return console.error("QStep needs to be a child of QStepper"),L;const{getCache:t}=J(),a=V(null),l=h(()=>s.value.modelValue===e.name),c=h(()=>p.platform.is.ios!==!0&&p.platform.is.chrome===!0||l.value!==!0||s.value.vertical!==!0?{}:{onScroll(g){const{target:f}=g;f.scrollTop>0&&(f.scrollTop=0),e.onScroll!==void 0&&v("scroll",g)}}),b=h(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function d(){const g=s.value.vertical;return g===!0&&s.value.keepAlive===!0?m(H,s.value.keepAliveProps.value,l.value===!0?[m(s.value.needsUniqueKeepAliveWrapper.value===!0?t(b.value,()=>({...W,name:b.value})):W,{key:b.value},n.default)]:void 0):g!==!0||l.value===!0?Z(n):void 0}return()=>m("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...c.value},s.value.vertical===!0?[m(G,{stepper:s.value,step:e,goToPanel:s.value.goToPanel}),s.value.animated===!0?m(Ce,d):d()]:[d()])}}),Ie=/(-\w)/g;function Ne(e){const n={};for(const v in e){const p=v.replace(Ie,s=>s[1].toUpperCase());n[p]=e[v]}return n}const De=I({name:"QStepper",props:{...he,...Te,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:ke,setup(e,{slots:n}){const v=N(),p=ge(e,v.proxy.$q),{updatePanelsList:s,isValidPanelName:t,updatePanelIndex:a,getPanelContent:l,getPanels:c,panelDirectives:b,goToPanel:d,keepAliveProps:g,needsUniqueKeepAliveWrapper:f}=Ae();ye(X,h(()=>({goToPanel:d,keepAliveProps:g,needsUniqueKeepAliveWrapper:f,...e})));const _=h(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(p.value===!0?" q-stepper--dark q-dark":"")),C=h(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function o(){const r=w(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&a();const u=m("div",{class:"q-stepper__content"},w(n.default));return r===void 0?[u]:r.concat(u)}return[m("div",{class:C.value},c().map(u=>{const S=Ne(u.props);return m(G,{key:S.name,stepper:e,step:S,goToPanel:d})})),r,Se("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>b.value)]}return()=>(s(n),m("div",{class:_.value},be(n.navigation,o())))}});export{De as Q,Be as a};
